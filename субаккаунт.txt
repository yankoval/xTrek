Выполняет запрос через Invoke-RestMethod
Метод .Trim() удаляет лишние пробелы и переводы строк из файла

Параметр -Raw читает весь файл как одну строку

Убедитесь, что файл содержит только токен без лишних символов

Для безопасности храните файл токена в защищенном месте

Преобразует результат в JSON формат с помощью ConvertTo-Json

Сохраняет результат в файл result.json с кодировкой UTF-8



$headers = @{
    'Authorization' = "Bearer $((Get-Content -Path "token.txt" -Raw).Trim())"
    'Content-Type' = 'application/json'
}

Invoke-RestMethod -Uri "https://xn--80aqu.xn----7sbabas4ajkhfocclk9d3cvfsa.xn--p1ai:443/v3/linked-gtins" -Headers $headers -Method GET

Invoke-RestMethod -Uri "https://xn--80aqu.xn----7sbabas4ajkhfocclk9d3cvfsa.xn--p1ai:443/v3/linked-gtins" -Headers $headers -Method GET | ConvertTo-Json | Out-File -FilePath "result.json" -Encoding UTF8
